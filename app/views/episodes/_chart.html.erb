<canvas id="<%= title %>"></canvas>
<script>
  var ctx = document.getElementById('<%= title %>').getContext('2d');
  var listByKey = (key) => data.map(obj => obj[key]);
  var data = <%= raw data %>;
  var keys = <%= raw keys %>;
  var labels = {
    x: "WorldX",
    y: "WorldY",
    z: "WorldZ",
    r: "WorldYawRotation",
    white: "#fff",
  }
  var colors = {
    x: "rgb(255, 127, 127)",
    y: "rgb(127, 255, 127)",
    z: "rgb(127, 127, 255)",
    r: "rgb(191, 127, 255)",
    white: "#fff",
  };
  var <%= title %>Chart = new Chart(ctx, {
    type: 'line',
    data: {
      labels: listByKey("t"),
      datasets: keys.map(key => ({
        label: labels[key],
        fill: false,
        borderColor: colors[key],
        pointBorderColor: colors[key],
        pointBackgroundColor: colors.white,
        pointHoverBackgroundColor: colors[key],
        pointHoverBorderColor: colors.white,
        data: listByKey(key).map(val => val * (key === "r" ? 0.1 : 1)),
      }))
    },
  });
</script>
